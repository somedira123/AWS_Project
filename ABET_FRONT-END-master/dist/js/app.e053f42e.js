(function(){var e={4157:function(e,t,s){"use strict";var a=s(144),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],r=(s(7658),{created(){localStorage.feeUserInfo?this.$store.commit("user/setStoredUserInfo"):this.$router.push("/login")}}),i=r,l=s(1001),u=(0,l.Z)(i,o,n,!1,null,null,null),c=u.exports,d=s(8345),f=s(4324),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-100 w-100",staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between"}},[t("HomeUserInfo"),t("div",{staticClass:"home"},[t("div",{staticClass:"home-grid-layout"},[t("div",{staticClass:"home-tab document-title",on:{click:()=>{e.$router.push("/document")}}},[t(f.Z,{staticClass:"icon-home-tab",attrs:{"aria-hidden":"false"}},[e._v(" mdi-format-list-bulleted-square ")]),t("p",{staticClass:"title-home-tab"},[e._v("Văn bản hành chính")])],1),t("div",{staticClass:"home-tab schedular-title"},[t(f.Z,{staticClass:"icon-home-tab",attrs:{"aria-hidden":"false"}},[e._v(" mdi-calendar ")]),t("p",{staticClass:"title-home-tab"},[e._v("Lịch trình")])],1),t("div",{staticClass:"home-tab news-title"},[t(f.Z,{staticClass:"icon-home-tab",attrs:{"aria-hidden":"false"}},[e._v(" mdi-newspaper ")]),t("p",{staticClass:"title-home-tab"},[e._v("Tin tức")])],1),t("div",{staticClass:"home-tab dashboard-title"},[t(f.Z,{staticClass:"icon-home-tab",attrs:{"aria-hidden":"false"}},[e._v(" mdi-view-dashboard-outline ")]),t("p",{staticClass:"title-home-tab"},[e._v("Báo cáo")])],1)])])],1)},h=[],p=function(){var e=this,t=e._self._c;return t("div",{},[t(f.Z,{staticStyle:{right:"20px",position:"absolute"}},[e._v(" mdi-account ")])],1)},v=[],g={created(){},methods:{}},w=g,b=(0,l.Z)(w,p,v,!1,null,null,null),y=b.exports,D={components:{HomeUserInfo:y},created(){},methods:{}},_=D,C=(0,l.Z)(_,m,h,!1,null,null,null),N=C.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("h2",{staticClass:"mb-3"},[e._v("Login")]),t("div",{staticClass:"input"},[t("label",{attrs:{for:"email"}},[e._v("Email address")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"form-control",attrs:{type:"text",name:"email",placeholder:"email@adress.com"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})]),t("div",{staticClass:"input"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"password123"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"alternative-option mt-4"}),t("button",{staticClass:"mt-4 btn-pers",attrs:{type:"submit",id:"login_button"}},[e._v(" Login ")]),e._m(0)])])},x=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"alert alert-warning alert-dismissible fade show mt-5 d-none",attrs:{role:"alert",id:"alert_1"}},[e._v(" Lorem ipsum dolor sit amet consectetur, adipisicing elit. "),t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"alert","aria-label":"Close"}})])}];const j="http://127.0.0.1:8000";var I={defaultAvatar:"/img/avatar_default.jpg",dataTypeIcon:{numeric:"mdi-numeric",text:"mdi-alphabetical-variant",date:"mdi-calendar-month-outline",datetime:"mdi-calendar-clock",time:"mdi-timer-outline",all:"mdi-table-row"},maxOpenTab:15,apiDomain:{auth:"auth/",document:"API/document/"},reformatUrl(e){for(let t in e)e[t]&&("string"==typeof e[t]||"object"==typeof e[t]&&this.reformatUrl(e[t]))},getAPIUrl(e){let t=j+"/"+e;return t}};I.reformatUrl(I.apiDomain);for(let le in I.uniqueApiDomain)I.apiDomain[le]=I.uniqueApiDomain[le];const O=I,U=async e=>{if("GET"==e.method){if(Object.keys(e.data).length>0){let t=Z(e.data);e.url.includes("?")?e.url=e.url+"&"+t:e.url=e.url+"?"+t}}else if(e.contentType)e.headers["Content-Type"]=e.contentType,e.body="object"==typeof e.data?JSON.stringify(e.data):e.data;else if(e.headers["Content-Type"])e.body=e.data;else{e.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8";let t=new URLSearchParams(e.data);e.body=t}const t=await fetch(e.url,e);return 204==t.status?null:"text"==e.dataType?t.text():t.json()},Z=function(e,t){let s,a=[];for(s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=t?t+"["+s+"]":s,n=e[s];a.push(null!==n&&"object"===typeof n?Z(n,o):encodeURIComponent(o)+"="+encodeURIComponent(n))}return a.join("&")},T={login(e,t){let s={userName:e,password:t},a={method:"POST",crossDomain:!0,data:s,url:O.getAPIUrl(O.apiDomain.auth)+"login",headers:{}};return U(a)}};var P={name:"login-vue",data(){return{userName:"",password:""}},methods:{async login(e){console.log(e),console.log(this.email,this.password);let t=await T.login(this.userName,this.password);200==t.status?(this.$store.commit("user/setShowUser",t),localStorage.feeUserInfo=JSON.stringify(t),this.$router.push("/")):console.log("unAuthentication"),console.log(t)},moveToRegister(){this.$router.push("/register")}}},k=P,A=(0,l.Z)(k,S,x,!1,null,null,null),$=A.exports,L=s(367),E=function(){var e=this,t=e._self._c;return t("div",[t(L.Z,{on:{click:e.toConfigDocument}},[e._v("Tạo mới")])],1)},R=[],F={methods:{toConfigDocument(){"superUser"==this.$store.state.user.user.userInfo.orgChart||"staff"==this.$store.state.user.user.userInfo.orgChart?this.$router.push("/document/config"):console.log("permission denied ")}}},J=F,M=(0,l.Z)(J,E,R,!1,null,null,null),q=M.exports,B=s(1234),G=s(7178),V=function(){var e=this,t=e._self._c;return t("div",[t("p",[e._v("asdfsadf")]),t(G.Z,{attrs:{type:"text",placeholder:"name display"},model:{value:e.columnDefs[0].headerName,callback:function(t){e.$set(e.columnDefs[0],"headerName",t)},expression:"columnDefs[0].headerName"}}),t(G.Z,{attrs:{type:"text",placeholder:"id"},model:{value:e.columnDefs[1].headerName,callback:function(t){e.$set(e.columnDefs[1],"headerName",t)},expression:"columnDefs[1].headerName"}}),t(B.Z,{attrs:{id:"file"},on:{change:e.handleFile},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),t(L.Z,{on:{click:e.createDocument}},[e._v(" submit ")]),t("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"100%",height:"900px"},attrs:{columnDefs:e.fetchColumnDefs,rowData:e.rawData}})],1)},z=[],H=s(4105),Q=s(1146);const K={createDocument(e,t){let s={columnDefs:e,rawData:t},a=JSON.parse(localStorage.getItem("feeUserInfo"));console.log(a.access_token),console.log(localStorage.getItem("feeUserInfo"));let o={method:"POST",crossDomain:!0,data:JSON.stringify(s),url:O.getAPIUrl(O.apiDomain.document)+"create",headers:{authorization:"Bearer "+a.access_token}};return console.log(o),U(o)}};var W={created(){"superUser"!=this.$store.state.user.user.userInfo.orgChart&&"staff"!=this.$store.state.user.user.userInfo.orgChart&&this.$router.push("/")},components:{AgGridVue:Q.AgGridVue},data(){return{columnDefs:[{headerName:"",field:"userNameDisplay"},{headerName:"",field:"id"}],rawData:[],file:void 0,fetchColumnDefs:[]}},methods:{async createDocument(){let e=this.columnDefs[0].headerName,t=this.columnDefs[1].headerName;if(2==this.fetchColumnDefs.filter((s=>s.field==e||s.field==t)).length){this.fetchColumnDefs.map(((t,s)=>{t.field==e&&this.fetchColumnDefs.splice(s,1)})),this.fetchColumnDefs.map(((e,s)=>{e.field==t&&this.fetchColumnDefs.splice(s,1)})),this.fetchColumnDefs=this.fetchColumnDefs.concat(this.columnDefs),this.rawData.map((e=>{let t=e[this.columnDefs[0].headerName],s=e[this.columnDefs[1].headerName];delete e[this.columnDefs[0].headerName],delete e[this.columnDefs[1].headerName],e[this.columnDefs[0].field]=t,e[this.columnDefs[1].field]=s}));let s=await K.createDocument(this.fetchColumnDefs,this.rawData);console.log(s)}},async handleFile(e){let t=await e.arrayBuffer();const s=(0,H.ij)(t),a=H.P6.sheet_to_json(s.Sheets[s.SheetNames[0]]);this.rawData=a,this.translateRawData()},translateRawData(){let e=[],t=[];this.rawData.map((e=>{console.log(Object.keys(e)),t=[...new Set(t.concat(Object.keys(e)))],console.log(t)})),t.map((t=>{e.push({field:t,headerName:t})})),this.fetchColumnDefs=e}},computed:{}},X=W,Y=(0,l.Z)(X,V,z,!1,null,null,null),ee=Y.exports;a.ZP.use(d.ZP);const te=[{path:"/",name:"home",component:N},{path:"/login",name:"login",component:$},{path:"/document",name:"showListDocument",component:q},{path:"/document/config",name:"showListDocument",component:ee}],se=new d.ZP({mode:"history",base:"/",routes:te});var ae=se,oe=s(4239),ne=s(8864);a.ZP.use(ne.Z);var re=new ne.Z({});a.ZP.config.productionTip=!1,s.g.jQuery=s(9755);var ie=s.g.jQuery;window.$=ie,new a.ZP({router:ae,store:oe["default"],vuetify:re,render:e=>e(c)}).$mount("#app")},4239:function(e,t,s){"use strict";s.r(t);var a=s(144),o=s(629);function n(){var e=s(282),t={};return e.keys().forEach((s=>{if("./index.js"!=s&&s.includes("index.js")){let a=s.match(/\.\/[a-zA-Z_0-9]+\//)[0];a=a.substring(2,a.length-1),t[a]=e(s)["default"]}})),t}let r=n();a.ZP.use(o.ZP),t["default"]=new o.ZP.Store({modules:r})},4878:function(e,t,s){"use strict";s.r(t),s.d(t,{checkAndSetAvatarUrl:function(){return a},checkAndSetUserInfo:function(){return o}});const a=(e,t)=>{console.log(e,t)},o=async(e,t)=>{console.log(e,t)}},2939:function(e,t,s){"use strict";s.r(t);const a={userAvatars:{},user:{},showUserInfo:!1,allUserInfo:{}};t["default"]=a},3751:function(e,t,s){"use strict";s.r(t),s.d(t,{messages:function(){return a}});const a=e=>e.messages},4681:function(e,t,s){"use strict";s.r(t);var a=s(4878),o=s(3751),n=s(6447),r=s(2939);const i="undefined"!==typeof window,l=i&&window.__INITIAL_STATE__?window.__INITIAL_STATE__.category:r["default"];t["default"]={namespaced:!0,state:l,actions:a,mutations:n,getters:o}},6447:function(e,t,s){"use strict";s.r(t),s.d(t,{setAvatarUrl:function(){return a},setShowUser:function(){return o},setStoredUserInfo:function(){return n}});const a=(e,t)=>{console.log(e,t)},o=(e,t)=>{console.log(e,t),e.user=t},n=e=>{e.user=JSON.parse(localStorage.feeUserInfo)}},282:function(e,t,s){var a={"./index.js":4239,"./user/actions.js":4878,"./user/defaultState.js":2939,"./user/getters.js":3751,"./user/index.js":4681,"./user/mutations.js":6447};function o(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=n,e.exports=o,o.id=282}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,n){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],n=e[c][2];for(var i=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,o,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,r=a[0],i=a[1],l=a[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(l)var c=l(s)}for(t&&t(a);u<r.length;u++)n=r[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4157)}));a=s.O(a)})();
//# sourceMappingURL=app.e053f42e.js.map